act-runner-controller (KEDA configuration) has been installed.

Namespace:              {{ .Release.Namespace }}
Forgejo URL:            {{ .Values.forgejo.url | default "(not set)" }}
API Scope:              {{ .Values.forgejo.scope | default "admin" }}
TriggerAuthentication:  {{ include "act-runner-controller.triggerAuthName" . }}
API Token Secret:       {{ include "act-runner-controller.apiTokenSecretName" . }}

This chart provides KEDA TriggerAuthentication for Forgejo/Gitea job-aware
autoscaling. No pods are deployed â€” KEDA handles the scaling logic.

Prerequisites:
  - KEDA must be installed: https://keda.sh/docs/latest/deploy/

Next steps:
  1. Install one or more runner scale sets with KEDA scaling enabled:

     helm install my-runners \
       oci://ghcr.io/00o-sh/act_runner/charts/act-runner-scale-set \
       -n {{ .Release.Namespace }} --create-namespace \
       --set giteaConfigUrl={{ .Values.forgejo.url | default "https://forgejo.example.com" }} \
       --set giteaConfigSecret.token=<registration-token> \
       --set keda.enabled=true \
       --set keda.triggerAuthenticationRef={{ include "act-runner-controller.triggerAuthName" . }} \
       --set "keda.metricsUrl={{ .Values.forgejo.url | default "https://forgejo.example.com" }}/api/v1/admin/runners/jobs?status=waiting&limit=1"

  2. Verify KEDA ScaledObject:

     kubectl get scaledobject -n {{ .Release.Namespace }}

  3. Check KEDA operator logs:

     kubectl logs -n keda -l app=keda-operator -f
